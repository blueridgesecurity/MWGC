<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimum-scale=1.0">
    <title>Project Gallery | Kitchens, Bathrooms & Home Remodels by MWGC</title>
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
    <link rel="manifest" href="images/favicon/site.webmanifest">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="canonical" href="https://michaelwalkergc.com/gallery.html">
    <meta name="description" content="View our portfolio of completed home renovations, kitchen remodels, bathroom upgrades, and custom construction projects in the Tri-Cities area.">
    <meta name="keywords" content="Construction Gallery, Remodeling Photos, Home Renovation Portfolio, Before and After Renovations, Kitchen Gallery, Bathroom Gallery">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Project Gallery | Our Work Speaks for Itself">
    <meta property="og:description" content="Browse our gallery of completed projects to see the quality and craftsmanship we bring to every home.">
    <meta property="og:image" content="https://michaelwalkergc.com/images/logos/banner.png">
    <meta property="og:url" content="https://michaelwalkergc.com/gallery.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://michaelwalkergc.com/images/logos/banner.png">
</head>
<body>

    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="contact-info">
                <a href="tel:+14232252355"><i class="fas fa-phone-alt"></i> (423) 225-2355</a>
                <a href="mailto:info@MichaelWalkerGC.com"><i class="fas fa-envelope"></i> info@MichaelWalkerGC.com</a>
            </div>
            <div class="licenses">
                <span><i class="fas fa-certificate"></i> General Contractor #77208</span>
                <span><i class="fas fa-bolt"></i> Electrical #63373</span>
                <span><i class="fas fa-wrench"></i> Plumbing #4900</span>
            </div>
        </div>
    </div>

    <!-- Header & Nav -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <a href="index.html"><img src="images/logos/MWGC_Master_Logo.jpg" alt="Michael Walker General Contracting Logo"></a>
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="financing.html">Financing</a></li>
                    <li><a href="gallery.html" class="active">Gallery</a></li>
                    <li><a href="https://www.homesinthetricities.com/" class="real-estate-link" target="_blank" rel="noopener noreferrer">Real Estate</a></li>
                    <li><a href="contact.html" class="btn-primary">Get a Quote</a></li>
                </ul>
                <div class="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header bg-black" style="padding: 100px 0; text-align: center; clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%); margin-bottom: -50px; position: relative; z-index: 10;">
        <div class="container animate-on-scroll">
            <h5 style="color: var(--accent-color); margin-bottom: 10px;">Our Portfolio</h5>
            <h1 style="color: white; font-size: 3.5rem;">Home Renovation Gallery</h1>
            <p style="color: #ccc; max-width: 600px; margin: 0 auto;">See the quality we bring to every job site.</p>
        </div>
    </section>
    
    <!-- Gallery Section -->
    <section class="section-padding">
        <div class="container" style="position: relative;">
            <button id="prev-btn" class="gallery-nav-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
            <div class="gallery-grid" id="main-gallery-grid" style="min-height: 500px;">
                <!-- Images injected via JS below -->
            </div>
            <button id="next-btn" class="gallery-nav-btn next-btn"><i class="fas fa-chevron-right"></i></button>
            
            <!-- Numbered Pagination -->
            <div id="pagination-numbers" class="pagination-numbers"></div>
        </div>
    </section>

    <!-- Image Injection Script -->
    <script>
        (function() {
            const grid = document.getElementById('main-gallery-grid');
            const totalImages = 54;
            
            for (let i = 1; i <= totalImages; i++) {
                const div = document.createElement('div');
                div.className = 'gallery-item animate-on-scroll';
                // Using lazy loading for performance
                div.innerHTML = `
                    <img src="images/${i}.jpg" alt="Michael Walker GC Project ${i}" loading="lazy">
                    <div class="gallery-overlay"><i class="fas fa-search-plus"></i></div>
                `;
                grid.appendChild(div);
            }
        })();
    </script>



    <style>
        .pagination-numbers {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .pagination-num-btn {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            background: white;
            color: #333;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: inherit;
            border-radius: 4px; /* Soft square Look */
        }

        .pagination-num-btn:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
            background: #fff;
        }

        .pagination-num-btn.active {
            background: var(--accent-color);
            border-color: var(--accent-color);
            color: white;
        }

        .gallery-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 3rem;
            cursor: pointer;
            z-index: 100; /* High z-index */
            opacity: 0.6;
            transition: all 0.3s;
            padding: 10px;
            /* Text shadow for visibility on images if overlapping */
            text-shadow: 0 0 5px rgba(255,255,255,0.8);
        }
        .gallery-nav-btn:hover {
            opacity: 1;
            transform: translateY(-50%) scale(1.1);
        }
        
        /* Default: Outside for large screens */
        .prev-btn { left: -60px; }
        .next-btn { right: -60px; }

        /* Tablet/Laptop: Inside arrows because outside might be clipped */
        @media (max-width: 1350px) {
             .prev-btn { left: 10px; }
             .next-btn { right: 10px; }
             /* Add background for contrast when overlapping content */
             .gallery-nav-btn {
                 background: rgba(255,255,255,0.5);
                 border-radius: 50%;
                 width: 50px; height: 50px;
                 display: flex; align-items: center; justify-content: center;
                 font-size: 2rem;
             }
        }

        /* Mobile */
        @media (max-width: 768px) {
            .gallery-nav-btn {
                background: rgba(255,255,255,0.8);
                font-size: 1.5rem;
                width: 40px; height: 40px;
            }
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const grid = document.getElementById('main-gallery-grid');
            // The items are now already injected by the script above
            const items = Array.from(grid.getElementsByClassName('gallery-item'));
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const pageNumbersContainer = document.getElementById('pagination-numbers');
            
            // Configuration
            const itemsPerPage = 12;
            let currentPage = 1;
            const totalPages = Math.ceil(items.length / itemsPerPage);
            
            function showPage(page) {
                const start = (page - 1) * itemsPerPage;
                const end = start + itemsPerPage;
                
                items.forEach((item, index) => {
                    if (index >= start && index < end) {
                        item.style.display = 'block';
                         // Restart animation
                        item.style.animation = 'none';
                        item.offsetHeight; /* trigger reflow */
                        item.style.animation = null; 
                    } else {
                        item.style.display = 'none';
                    }
                });
                
                updateControls();
                
                // Scroll to top of gallery smoothly (if not first load)
                if (window.scrollY > 500) {
                     const gridTop = grid.getBoundingClientRect().top + window.scrollY - 100;
                     window.scrollTo({top: gridTop, behavior: 'smooth'});
                }
            }
            
            function updateControls() {
                // 1. Handle Side Buttons
                if (currentPage === 1) {
                    prevBtn.style.display = 'none';
                } else {
                    prevBtn.style.display = 'block'; 
                }

                if (currentPage === totalPages) {
                    nextBtn.style.display = 'none';
                } else {
                    nextBtn.style.display = 'block';
                }

                // 2. Generate Page Numbers
                pageNumbersContainer.innerHTML = '';
                
                let pagesToShow = [];
                // Logic to show abbreviated page list: 1 2 3 ... 7 8 9
                if (totalPages <= 7) {
                    for(let i=1; i<=totalPages; i++) pagesToShow.push(i);
                } else {
                    if (currentPage <= 4) {
                        pagesToShow = [1,2,3,4,5, '...', totalPages];
                    } else if (currentPage >= totalPages - 3) {
                        pagesToShow = [1, '...', totalPages-4, totalPages-3, totalPages-2, totalPages-1, totalPages];
                    } else {
                        pagesToShow = [1, '...', currentPage-1, currentPage, currentPage+1, '...', totalPages];
                    }
                }

                pagesToShow.forEach(p => {
                    const btn = document.createElement('div'); // Using div for non-clickable ellips
                    if (p === '...') {
                        btn.textContent = '...';
                        btn.style.padding = '0 5px';
                        btn.style.color = '#777';
                        btn.style.display = 'flex';
                        btn.style.alignItems = 'center';
                    } else {
                        btn.className = 'pagination-num-btn';
                        btn.textContent = p;
                        if (p === currentPage) btn.classList.add('active');
                        btn.addEventListener('click', () => {
                            currentPage = p;
                            showPage(currentPage);
                        });
                    }
                    pageNumbersContainer.appendChild(btn);
                });
            }
            
            prevBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    showPage(currentPage);
                }
            });
            
            nextBtn.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    showPage(currentPage);
                }
            });
            
            // Initialize
            showPage(1);

            // Lightbox Logic
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = lightbox.querySelector('img');
            const lightboxClose = document.querySelector('.lightbox-close');
            const lightboxPrev = document.querySelector('.lightbox-prev');
            const lightboxNext = document.querySelector('.lightbox-next');
            
            let currentLightboxIndex = 0;
            const galleryImages = Array.from(document.querySelectorAll('.gallery-item img')); // Get actual img elements

            // Function to update image based on index
            function updateLightboxImage(index) {
                if (index < 0) index = galleryImages.length - 1;
                if (index >= galleryImages.length) index = 0;
                
                currentLightboxIndex = index;
                lightboxImg.src = galleryImages[currentLightboxIndex].src;
            }

            // Open Lightbox
            items.forEach((item, index) => {
                item.addEventListener('click', () => {
                    const img = item.querySelector('img');
                    if (img) {
                        // Find the index of this image in our full list
                        // (Note: 'items' vs 'galleryImages' match 1:1, so 'index' is reliable)
                        updateLightboxImage(index);
                        lightbox.classList.add('active');
                    }
                });
            });

            // Navigation Click Handlers
            lightboxPrev.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent closing
                updateLightboxImage(currentLightboxIndex - 1);
            });

            lightboxNext.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent closing
                updateLightboxImage(currentLightboxIndex + 1);
            });

            // Close Lightbox
            lightboxClose.addEventListener('click', () => {
                lightbox.classList.remove('active');
            });

            // Close on outside click
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.classList.remove('active');
                }
            });

            // Keyboard Navigation
            document.addEventListener('keydown', (e) => {
                if (!lightbox.classList.contains('active')) return;

                if (e.key === 'Escape') {
                    lightbox.classList.remove('active');
                } else if (e.key === 'ArrowLeft') {
                    updateLightboxImage(currentLightboxIndex - 1);
                } else if (e.key === 'ArrowRight') {
                    updateLightboxImage(currentLightboxIndex + 1);
                }
            });
        });
    </script>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <span class="lightbox-close">&times;</span>
        <button class="lightbox-nav lightbox-prev"><i class="fas fa-chevron-left"></i></button>
        <img src="" alt="Gallery Preview">
        <button class="lightbox-nav lightbox-next"><i class="fas fa-chevron-right"></i></button>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <img src="images/logos/lgogo.png" alt="MWGC Logo" style="height: 120px; margin-bottom: 20px;">
                    <p>Tri-Cities' trusted partner for renovation, construction, and home improvement.</p>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <p><i class="fas fa-map-marker-alt"></i> Tri-Cities, TN</p>
                    <p><i class="fas fa-phone"></i> (423) 225-2355</p>
                    <p><i class="fas fa-envelope"></i> info@MichaelWalkerGC.com</p>
                    
                    <!-- Social Links Removed -->
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul style="line-height: 2;">
                        <li><a href="https://www.homesinthetricities.com/" target="_blank" rel="noopener noreferrer">Real Estate Division</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="gallery.html">Our Work</a></li>
                        <li><a href="financing.html">Financing</a></li>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms-of-service.html">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Licenses</h4>
                    <p>General Contractor: #77208</p>
                    <p>Electrical: #63373</p>
                    <p>Plumbing: #4900</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Michael Walker General Contracting. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    
    <script src="script.js"></script>
</body>
</html>